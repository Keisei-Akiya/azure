# AZ-900 総合ポイントまとめ

- [AZ-900 総合ポイントまとめ](#az-900-総合ポイントまとめ)
  - [1. クラウドの概念 (Cloud Concepts)](#1-クラウドの概念-cloud-concepts)
    - [1.1. コストモデル (CapEx vs OpEx)](#11-コストモデル-capex-vs-opex)
    - [1.2. クラウドモデル (Public, Private, Hybrid)](#12-クラウドモデル-public-private-hybrid)
    - [1.3. サービスモデル (IaaS, PaaS, SaaS)](#13-サービスモデル-iaas-paas-saas)
    - [1.4. 責任共有モデル](#14-責任共有モデル)
    - [1.5. クラウドの特性](#15-クラウドの特性)
  - [2. Azure の管理とガバナンス (Management and Governance)](#2-azure-の管理とガバナンス-management-and-governance)
    - [2.1. サブスクリプションと管理グループ](#21-サブスクリプションと管理グループ)
    - [2.2. コスト管理と最適化](#22-コスト管理と最適化)
    - [2.3. Azure Policy とリソースロック](#23-azure-policy-とリソースロック)
    - [2.4. 監視と正常性 (Monitor, Service Health, Advisor)](#24-監視と正常性-monitor-service-health-advisor)
    - [2.5. ID とセキュリティ (Entra ID, Defender, AIP)](#25-id-とセキュリティ-entra-id-defender-aip)
    - [2.6. コンプライアンスと信頼](#26-コンプライアンスと信頼)
    - [2.7. 管理ツール](#27-管理ツール)
  - [3. Azure のアーキテクチャとサービス (Architecture and Services)](#3-azure-のアーキテクチャとサービス-architecture-and-services)
    - [3.1. ネットワーキング](#31-ネットワーキング)
    - [3.2. コンピューティングと可用性](#32-コンピューティングと可用性)
    - [3.3. ストレージ](#33-ストレージ)
    - [3.4. データベース](#34-データベース)
    - [3.5. AI と分析](#35-ai-と分析)
    - [3.6. DevOps](#36-devops)
    - [3.7. リージョンとデータセンター](#37-リージョンとデータセンター)
    - [3.8. その他の主要サービス](#38-その他の主要サービス)

## 1. クラウドの概念 (Cloud Concepts)

### 1.1. コストモデル (CapEx vs OpEx)

- **CapEx から OpEx へ (模試 2):** クラウド移行の典型的なコストメリットは、物理サーバー購入などの「資本的支出（CapEx）」を、月々のサービス利用料である「運用費（OpEx）」に転換することです。これにより CapEx は下がりますが、OpEx は（これまでかかっていなかったサービス料として）上がります。
- **従量課金制 (模試 2):** 実際に使用した分だけ支払うモデルで、初期の設備投資（CapEx）を不要にし、コスト削減に繋がります。

### 1.2. クラウドモデル (Public, Private, Hybrid)

- **ハイブリッドクラウド (模試 1, 模試 3):** パブリッククラウド (Azure) とオンプレミス/プライベートクラウド環境を接続し、内部ネットワークを拡張する形態です。VPN や ExpressRoute を使用して実現します。
- **プライベートクラウド (模試 3):** 企業が自社で所有・管理する物理サーバー上で構築したクラウド環境です。

### 1.3. サービスモデル (IaaS, PaaS, SaaS)

- **IaaS (Infrastructure as a Service) (模試 1):**
  - **例:** 仮想マシン (VM)
  - **特徴:** インフラ（サーバー、OS）をユーザーが管理します。SQL Server などを自由にインストールできます。
- **PaaS (Platform as a Service) (模試 1, 模試 3):**
  - **例:** Azure App Service, Azure SQL Database, Azure Backup
  - **特徴:** プラットフォームは Microsoft が管理します。ユーザーはアプリケーションコードに集中でき、OS やミドルウェアの管理は不要です。App Service に SQL Server をインストールすることはできません。
  - Azure Backup のように、インフラ管理は不要ですが、ユーザーがポリシー設定などを行う必要があるサービスも PaaS に分類されます。

### 1.4. 責任共有モデル

- **物理インフラの責任 (模試 2):** IaaS を利用する場合でも、物理サーバーやデータセンターといった物理インフラの管理はクラウドプロバイダー（Microsoft）の責任です。ユーザーが自社の物理サーバーをクラウドに追加したり、管理したりすることはできません。

### 1.5. クラウドの特性

- **コスト効率と可用性 (模試 3):**
  - クラウドのコスト効率は、需要に応じてリソースを増減させる「スケーラビリティ（拡張性）」によって実現されます。
  - 複数の可用性ゾーンを利用するなどの冗長構成は、「可用性」を高めますが、コストは増加します。

---

## 2. Azure の管理とガバナンス (Management and Governance)

### 2.1. サブスクリプションと管理グループ

- **サブスクリプション (模試 2):**
  - **基本単位:** Azure アカウント作成後、サービスを展開するためには、まず「サブスクリプション」を作成する必要があります。
  - **請求単位:** Azure の利用料金は「サブスクリプション」単位で請求されます。
  - **マージ不可:** 複数のサブスクリプションを１つに統合（マージ）することはできません。
  - **所有権移転:** サブスクリプションの「課金所有権」を譲渡できるのは、所有者（Owner）ロールではなく、「課金管理者」です。
- **管理グループ (模試 3):** 複数のサブスクリプションを一つのグループとして扱い、ポリシーやアクセス権をまとめて適用できます。大規模な環境の管理を効率化します。
- **無料アカウント (模試 3):** 原則として 1 人 1 つまでです。登録にはクレジットカードが必要ですが、一定のクレジットと 12 ヶ月間の限定的な無料サービスが提供されます。

### 2.2. コスト管理と最適化

- **コスト見積もりツール (模試 1):**
  - **TCO 計算ツール:** オンプレミス環境と Azure を利用した場合の総保有コストを比較・評価します。
  - **料金計算ツール:** 特定の Azure サービス構成のコストを個別に見積もります。
- **Azure Cost Management (模試 3):**
  - **アラート:** 設定した予算（閾値）を超過した場合にアラートを送信する機能です。
- **タグ (模試 3):** リソースに「タグ」を付けることで、プロジェクトや部門ごとにコストを分類し、レポートを作成できます。
- **課金対象 (模試 2):** 利用していない「パブリック IP アドレス」も課金対象となるため、コスト削減のために削除が必要です。仮想ネットワークやプライベート IP は無料です。
- **使用制限 (模試 2):** 無料アカウントなどのクレジットに付随する使用制限額は固定であり、変更はできません（削除して従量課金制に移行することは可能）。

### 2.3. Azure Policy とリソースロック

- **Azure Policy (模試 1, 模試 2, 模試 3):**
  - **機能:** 組織のルール（例：「特定の種類の VM 作成を禁止する」「特定リージョンのみリソース作成を許可する」）をリソースに適用し、コンプライアンスを評価・強制します。
  - **イニシアティブ:** 複数のポリシー定義を一つのグループとしてまとめる機能です。関連する一連のルールを一度に割り当てることができます。
- **リソースロック (模試 1):**
  - **機能:** リソースグループや個々のリソースを誤った削除や変更から保護します。
  - **種類:**
    - **読み取り専用ロック:** 変更と削除の両方を禁止します。
    - **削除ロック:** 削除のみを禁止し、変更は許可します。

### 2.4. 監視と正常性 (Monitor, Service Health, Advisor)

- **Azure Monitor (模試 2):**
  - **アラート:** アラート通知の宛先として、個々のユーザーを指定できますが、Microsoft Entra ID の「グループ ID」を直接指定することはできません。
- **Azure Service Health (模試 2, 模試 3):** Azure Portal の「ヘルプとサポート」からアクセスでき、計画メンテナンスやサービスの障害情報など、Azure プラットフォーム全体の正常性を確認できます。
- **Azure Advisor (模試 3):** リソースの最適化（コスト、セキュリティ等）に関する推奨事項を提供しますが、Azure Backup の適用状況のような具体的な構成リストは作成できません。
- **Azure アクティビティログ (模試 2):** サブスクリプション内のリソースに対する操作（誰が、いつ、何をしたか）を記録するログです。「VM を停止したユーザー」などを特定するのに使用します。

### 2.5. ID とセキュリティ (Entra ID, Defender, AIP)

- **Microsoft Entra ID (模試 1):** クラウドベースの ID 管理サービスです。利用にあたりドメインコントローラーの VM は不要です。
- **Microsoft Entra Identity Protection (模試 1):** ID ベースのリスク（匿名 IP からのアクセス、通常とは異なるサインインなど）を検出し、自動的に対応します。リスクレベルに応じて、多要素認証 (MFA) の要求やパスワード変更を強制するポリシーを設定できます。
- **Microsoft Entra Domain Services (Azure AD DS) (模試 1):** マネージドなドメインサービスを提供し、従来の Active Directory と同様にグループポリシーの作成・管理が可能です。
- **Microsoft Defender for Cloud (模試 2):** Azure リソースがセキュリティのベストプラクティスや規制基準を満たしているかを評価・監視する中心的なサービスです。評価結果に基づいて推奨事項を提供し、規制順守レポートをダウンロードする機能も持ちます。
- **Azure Information Protection (AIP) (模試 1, 模試 2):** ドキュメントやメールにラベルを付け、分類・保護するサービスです。クレジットカード情報などの機密情報を含むファイルに、自動で透かし（ウォーターマーク）を追加するような設定が可能です。Azure SQL Database のレコードや Azure Storage アカウント自体を暗号化する機能はありません。

### 2.6. コンプライアンスと信頼

- **Microsoft Service Trust Portal (模試 3):** Azure の監査レポートやコンプライアンス関連の公式情報を入手できるポータルです。
- **プライバシーに関する声明 (模試 3):** Microsoft が顧客データをどのように収集・利用するかを説明した文書です。

### 2.7. 管理ツール

- **Azure PowerShell (模試 3):** Windows や macOS にインストールして使用できるコマンドラインツールで、Azure リソースのスクリプトによる管理に利用します。
- **Azure DevTest Labs (模試 1):** 開発・テスト環境を迅速に構築・破棄するためのサービスです。テンプレートを使用して環境を簡単に展開・削除でき、管理作業を最小限に抑えられます。

---

## 3. Azure のアーキテクチャとサービス (Architecture and Services)

### 3.1. ネットワーキング

- **ネットワークセキュリティグループ (NSG) (模試 1):** VM やサブネットレベルで動作するファイアウォールです。IP アドレス、ポート、プロトコルに基づいてインバウンド/アウトバウンドの通信を制御します。
- **ハイブリッド接続 (模試 1, 模試 2):**
  - **ExpressRoute:** 専用線接続。オンプレミスから Azure へのインバウンド（内向き）データ転送は常に無料です。
  - **ローカルネットワークゲートウェイ:** オンプレミス側の VPN デバイス（パブリック IP アドレスなど）を Azure 上で表現するオブジェクトです。サイト間 VPN 接続に必要です。
- **ユーザー定義ルート (UDR) と仮想アプライアンス (模試 3):** サブネット間のトラフィックを特定の仮想マシン（ファイアウォールなど）に強制的に経由させるなど、既定のルーティングを上書きするために使用します。
- **データ転送課金 (模試 3):** 異なる Azure リージョン間のデータ転送（特にアウトバウンド、送信）は有料です。

### 3.2. コンピューティングと可用性

- **可用性 (SLA) (模試 1):** 仮想マシンで 99.99% の可用性 SLA を達成するには、2 つ以上の可用性ゾーンにまたがって、最低 2 台の仮想マシンをデプロイする必要があります。
- **可用性ゾーン (AZ) (模試 3):** 全てのリージョンで利用できるわけではありません。データセンターレベルの障害から保護します。
- **可用性セット (模試 3):** 単一データセンター内の障害（ラック障害など）から保護するための仕組みであり、データセンター全体の障害には対応できません。

### 3.3. ストレージ

- **基本サービス (模試 3):** Azure Storage は、非構造化データ用の「BLOB」、構造化 NoSQL データ用の「テーブル」、マネージドファイル共有用の「ファイル」などを提供します。
- **冗長性 (LRS) (模試 1):** 最も基本的なローカル冗長ストレージ (LRS) でも、データはプライマリリージョン内で自動的に 3 回コピーされ、高い耐久性を確保します。
- **非マネージドディスク (模試 3):** ユーザーが管理するストレージアカウント内の「ページ BLOB」として実装される仮想ハードディスク（VHD）です。

### 3.4. データベース

- **Azure SQL Managed Instance (模試 2):** 共通言語ランタイム（CLR）など、オンプレミスの SQL Server との高い互換性が必要なデータベースを移行する場合に最適な PaaS サービスです。

### 3.5. AI と分析

- **Azure Cognitive Services (模試 3):** AI の専門知識がなくても、視覚、音声、言語などのインテリジェントな機能をアプリに組み込めるサービス群です。
- **Azure Synapse Analytics (模試 3):** 大規模なデータウェアハウスを構築し、高速なデータ分析を行うための統合分析サービスです。

### 3.6. DevOps

- **Azure DevOps Services (模試 1):**
  - **Azure Repos:** Git リポジトリを提供し、ソースコードを管理できます。
  - **ホスティング:** Azure DevOps 自体はアプリケーションをホストする機能は持ちません。ビルドやデプロイのパイプラインを構築し、他のサービスにデプロイするために使用します。

### 3.7. リージョンとデータセンター

- **リージョンの定義 (模試 2):** 各リージョンは、地理的に離れた場所に配置された独立したデータセンター群で構成されています。
- **データセンターの数 (模試 2):** すべてのリージョンが「複数の」データセンターを持つわけではありません。単一のデータセンターで構成されるリージョンも存在します。
- **リージョン間接続 (模試 2):** リージョン間は Microsoft の広大なグローバルネットワークで接続されていますが、「専用線で接続されている」という単純な表現は正しくありません。

### 3.8. その他の主要サービス

- **Azure Government (模試 2):** 米国政府機関とその請負業者専用に物理的に分離された Azure 環境です。
- **リソースの移動 (模試 2):** Azure リソースは、リソースグループ間やサブスクリプション間だけでなく、異なるリージョン間でも移動させることが可能です（Azure Resource Mover などを利用）。
