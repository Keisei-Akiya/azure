# AZ900 模擬試験 4 - ポイントまとめ

## 1. Azure の管理とガバナンス (Management and Governance)

### 1.1. ID とセキュリティ

- **Microsoft Entra Connect (問題 7, 69):**
  - オンプレミスの Active Directory と Microsoft Entra ID を同期するためのツールです。
  - **パスワードハッシュ同期 (PHS):** ユーザーへの影響を最小限に抑えつつ、オンプレミスのユーザーアカウント情報を Azure に移行するための一般的な方法です。 (問題 69)
  - オンプレミス環境の ID を Azure クラウドに同期することは MFA を設定する際に必須ではありません。 (問題 18)
- **Microsoft Defender for Identity (問題 8):**
  - Azure ネットワーク全体のユーザーアクティビティを監視し、疑わしい活動や悪意のある攻撃を検出するサービスです。
- **Microsoft Entra Identity Protection (問題 21):**
  - **サインインリスクポリシー:** ユーザーのサインイン時のリスク（例：アクセス元の場所）に基づいて、MFA の要求やアクセスのブロックといった制御を行います。「オンプレミスからのみアクセスを許可する」といった要件に対応できます。 (問題 21)
- **MFA とフェデレーション (問題 17):**
  - オンプレミス環境とフェデレーションを構成することで、ハイブリッド ID に対して MFA を設定することが可能です。 (問題 17)
  - フェデレーションソリューションとは、オンプレミス環境と Azure 環境とをハイブリッドに連携する際に利用する機能のことです。 (問題 17)
- **Azure Information Protection (AIP) (問題 16):**
  - 電子メールや機密文書を保護するデータ保護ソリューションです。
  - スキャナー診断ツール（Azure Information Scanner, Start-Aipscan PowerShell コマンド）で保護されたドキュメントやデータの正常性を診断可能です。 (問題 16)
- **フェデレーションの定義 (問題 55):**
  - オンプレミス環境やクラウドなどの複数の環境の認証方式で連携できるように、信頼関係を構築するドメイン機能です。
  - 認証された利用者に対し、アクションを実行する権限を付与する「承認」とは異なります。
- **Azure Distributed Denial of Service (DDoS) Protection (問題 56):**
  - 境界層で DDoS 攻撃に対するフィルター処理を実施し、大規模な攻撃をサービス拒否が発生する前にフィルター処理します。

### 1.2. ガバナンスとコンプライアンス

- **Azure Blueprints (問題 30):**
  - **機能:** 複数のコンポーネント（ポリシーの割り当て、ロールベースのアクセス制御(RBAC)、ARM テンプレート、リソースグループ）を一つのパッケージ（ブループリント）として定義し、反復的にデプロイする機能です。これにより、組織の標準やコンプライアンスに準拠した環境を迅速に構築できます。
- **Azure Policy (問題 53):**
  - リソース作成時に特定のタグを自動的に適用（強制）するルールを設定できます。
- **リソースロック (問題 58, 59):**
  - 1 つのリソースに対して、同じ種類のロック（例：削除ロック）を複数設定することが可能です。
  - リソースグループに適用したロックは、その中のすべてのリソースに継承されます。
- **サブスクリプション間のリソース移動 (問題 37):**
  - 移動可能なリソースは限定されますが、無料で実施可能です。 (問題 37)
  - 移動中はリソースとターゲットのリソースグループがロックされます。 (問題 37)
- **リソースグループとアクセス許可 (問題 41):**
  - リソースグループにアクセス許可を設定することで、そのグループ内の全仮想マシンに効率的にアクセス制御を適用できます。
- **Azure Resource Manager の機能 (問題 23):**
  - Azure アカウント内のリソースの作成、更新、削除などのライフサイクルを管理するリソース管理機能です。アクセス制御、ロック、タグなどの管理機能を使用して、利用中のリソースを保護および整理します。
  - ARM テンプレートによるインフラストラクチャのコードベース展開、リソースグループの設定、タグ付け、ロックによるリソース管理、Azure マネージドアプリケーション、Azure カスタムリソースプロバイダーなどの機能があります。

### 1.3. コスト管理とサポートプラン

- **仮想マシンのコスト (問題 4):**
  - 同じサイズの仮想マシンでも、デプロイするリージョンや適用される料金プラン（予約インスタンスなど）によって月額コストは異なります。
- **仮想マシンの稼働率 (問題 20):**
  - (利用可能な最大分 - 分単位のダウンタイム) / 利用可能な最大分数 x 100 で計算されます。 (問題 20)
- **Azure サポートプラン (問題 38, 39):**
  - **電話サポート:** `Standard`, `Professional Direct`, `Premier` のプランで 24 時間年中無休の電話サポートが提供されます。
  - **設計レビュー:** ユーザーの仕様に基づいたアーキテクチャの設計レビューなどの高度なサポートは `Premier` プランで提供されます。

### 1.4. 管理ツール

- **Azure PowerShell on Linux (問題 26):**
  - Linux 環境で Azure PowerShell スクリプトを実行するには、`PowerShell Core` と `Azure PowerShell モジュール` の両方をインストールする必要があります。
- **ストレージ管理ツール (問題 49):**
  - **Azure Storage Explorer:** GUI ベースのスタンドアロンアプリで、データのアップロード/ダウンロードが可能です。
  - **AzCopy:** コマンドラインユーティリティで、スクリプトによるデータ転送に適しています。

### 1.5. ライフサイクル管理

- **サービス終了通知 (問題 5):**
  - Microsoft が後継サービスなしに Azure サービスのサポートを終了する場合、少なくとも **12 ヶ月前** に通知が行われます。

### 1.6. 監視

- **Azure Monitor Log Analytics (問題 32):**
  - オンプレミスや Azure のログを収集・分析する機能です。エージェントをインストールしてログを取得し、閾値設定やアラート通知、ダッシュボードでの可視化が可能です。
- **アクティビティログの保存 (問題 31):**
  - デフォルトで 90 日間保存されますが、中長期保存には Azure Storage または Azure Events Hubs にデータを保存します。

## 2. Azure のアーキテクチャとサービス (Architecture and Services)

### 2.1. ネットワーキング

- **グローバル仮想ネットワークピアリング (問題 12):**
  - **異なる Azure リージョン間**の仮想ネットワークを接続するための機能です。
  - （参考）「仮想ネットワークピアリング」は**同じリージョン内**の接続を指します。
- **ネットワークセキュリティグループ (NSG) (問題 42):**
  - 1 つの NSG を、同じリージョン内の複数の仮想マシンやサブネットに再利用して適用できます。そのため、多数のリソースがあっても最小で 1 つの NSG で管理することが可能です。 (問題 42)
- **ローカルネットワークゲートウェイ (問題 51):**
  - オンプレミス側の VPN デバイスの構成情報（パブリック IP アドレスなど）を Azure 上で表現するためのリソースです。サイト間 VPN 接続に必須です。 (問題 51)
- **VPN 接続 (問題 25):**
  - Azure VPN ゲートウェイを利用してオンプレミスネットワークから Azure への暗号化された VPN 接続を実現します。 (問題 25)
  - **仮想ネットワークゲートウェイ:** VPN ゲートウェイの一種です。 (問題 25)
  - **ローカルネットワークゲートウェイ:** オンプレミス環境の情報を設定するリソース（パブリック IP アドレス、アドレス空間など）です。 (問題 25)
- **Azure Firewall (問題 52):**
  - 仮想ネットワークリソースを保護するフルマネージド型ファイアウォールサービスです。
  - 脅威インテリジェンスベースのフィルタリングにより、既知の悪意のある IP アドレスやドメインとの間のトラフィックを警告・拒否できます。

### 2.2. コンピューティングと可用性

- **可用性セット (問題 11):**
  - **更新ドメイン:** メンテナンスで同時に再起動される VM のグループ。最大 **20 個** 設定できます。
  - **障害ドメイン:** 電源やネットワークを共有する物理ラックのグループ。最大 **3 個** 設定できます。
- **Azure Virtual Desktop (AVD) (問題 66, 67):**
  - **課金:** アクティブなユーザー単位の月額料金で請求されます。 (問題 66)
  - **クライアント OS:** Windows, macOS, Android, iOS など、非常に多くのクライアント OS から接続できます。 (問題 67)

### 2.3. ストレージ

- **Blob Storage アクセス層 (問題 10):**
  - **アーカイブ層:** ほとんどアクセスされないデータを、最も低コストで長期間保存するためのアクセス層です。 (問題 10)
  - Blob ストレージのアーカイブアクセス層はストレージアカウントには設定できません。 (問題 64)

### 2.4. IoT

- **IoT Central (問題 1):**
  - 多数の IoT デバイスの接続、監視、管理を大規模に行うための、中央集権的な管理ソリューション（SaaS）です。

### 2.5. リージョンとデータセンター

- **Azure China (問題 48):**
  - Microsoft ではなく、現地のパートナー企業である **21Vianet** によって運営されています。
- **Azure のゾーンと可用性ゾーン (問題 34):**
  - **Azure のゾーン:** 課金のために Azure リージョンを地域別にグループ化したものです。データ転送料金に影響します。 (問題 34)
  - **可用性ゾーン:** Azure リージョン内で分離された場所で、独自の電源、ネットワーク、冷却手段を備えます。ゾーンレベルの障害から保護します。 (問題 34)
- **複数リージョン利用時の追加コスト (問題 36):**
  - 1 つのアカウントで Azure を複数リージョンにまたいでグローバルに利用する際には、追加コストは必要ありません。 (問題 36)

## 3. クラウドの概念 (Cloud Concepts)

- **仮想マシンのバックアップと保護 (問題 14):**
  - 仮想マシンではバックアップやデータ保護などがマネージド型サービスとして提供されていないため、ユーザー側でデータ暗号化や手動でのスナップショットの取得を設定する必要があります。 (問題 14)
- **フォールトトレランス (問題 13):**
  - Azure 仮想マシンを複数の可用性ゾーンに配置するなど、クラウドの機能を利用することで、従来のオンプレミスサーバーよりもフォールトトレランス（耐障害性）を向上させることができます。
- **地理的分散 (Geo-distribution) (問題 63):**
  - アプリケーションやデータを複数の地理的なリージョンにデプロイすることで、ユーザーに近い場所からサービスを提供し、遅延を減らしてユーザーエクスペリエンスを向上させることです。
- **パブリッククラウドの特徴 (問題 65):**
  - **セルフサービス管理:** ユーザーがポータルや API を通じて自由にリソースを管理できること。 (問題 65)
  - **従量課金:** 使用した分だけ料金を支払うモデルであること。 (問題 65)
- **Platform as a Service (PaaS) (問題 46):**
  - カスタムアプリケーションを開発するために役立つ機能を提供するソリューションです。
  - OS やプログラムを動かす環境（ミドルウェアなど）が整備されたプラットフォームを提供し、ユーザーは独自のアプリケーションを容易に開発できます。
